# Environment
NODE_ENV=development

# Server
PORT=3000

# Database
# Local dev on host:
DATABASE_URL=postgresql://username:PASSWORD_CHANGE_ME@localhost:5432/starter?schema=public
# In Docker (app + db): host is 'db'
# DATABASE_URL=postgresql://username:PASSWORD_CHANGE_ME@db:5432/starter?schema=public

# Observability
LOG_LEVEL=info
METRICS_ENABLED=false
# Required when enabling metrics in production:
# METRICS_GUARD=secret
# METRICS_GUARD_SECRET=change-me
# METRICS_GUARD_ALLOWLIST=203.0.113.0/24

# JWT
JWT_ACCESS_SECRET=example_access_secret_please_change
JWT_REFRESH_SECRET=example_refresh_secret_please_change
JWT_ACCESS_EXPIRY=15m
JWT_REFRESH_EXPIRY=7d

# Auth (optional overrides)
# AUTH_EMAIL_VERIFICATION_REQUIRED=false
# AUTH_EMAIL_VERIFICATION_TTL_MINUTES=60
# AUTH_PASSWORD_RESET_TTL_MINUTES=30
# AUTH_LOGIN_MAX_ATTEMPTS=5
# AUTH_LOGIN_LOCKOUT_MINUTES=15
# AUTH_LOGIN_ATTEMPT_WINDOW_MINUTES=15

# Sessions (optional)
# SESSION_CLEANUP_INTERVAL_MINUTES=60

# CORS (optional)
CORS_ORIGINS=http://localhost:5173
# Leave credentials disabled unless you rely on cookies/authorization headers that require them.
# Set to true only when you explicitly need credentialed cross-origin requests.
# CORS_ALLOW_CREDENTIALS=true
# Cache preflight responses (seconds)
# CORS_MAX_AGE_SECONDS=600

# Rate limiting
RATE_LIMIT_RPM=600
RATE_LIMIT_RPM_AUTH=120
RATE_LIMIT_WINDOW_SEC=900
# Redis backing store for rate limiting:
# - When running API directly on host with 'docker compose up -d db redis':
# RATE_LIMIT_REDIS_URL=redis://localhost:6379
# - When running full stack inside Docker with 'docker compose up -d app':
# RATE_LIMIT_REDIS_URL=redis://redis:6379
# Required in production (service name or managed Redis endpoint).

# Request parsing + server timeouts (optional overrides)
# REQUEST_BODY_LIMIT=100kb
# HTTP_SERVER_REQUEST_TIMEOUT_MS=30000
# HTTP_SERVER_HEADERS_TIMEOUT_MS=60000
# HTTP_SERVER_KEEPALIVE_TIMEOUT_MS=5000
